:css
  body {background:white !important;}
  .navbar-inner {box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25), inset 0 -1px 0 rgba(0, 0, 0, 0.1);}
  .question-row img {height:18px;}
  @media (min-width: 1200px) {.container, .navbar-fixed-top .container, .navbar-fixed-bottom .container {width: 874px;}}

#author_dashboard.index
  .well.well-small
    .header.form-actions
      %h2
        My questions:
        %span#askers_select= select_tag 'asker', '<option value="0">All</option>'.html_safe + options_from_collection_for_select(Asker.where(:published => true), :id, :twi_screen_name, @asker.id)
      .stats
        %ul.breadcrumb
          %li
            %span.divider
              Approved:
              %span.badge-success.badge
                = @approved_count
          %li
            %span.divider
              Pending:
              %span.badge
                = @pending_count
      %a.btn.new_question
        %i.icon-plus
        New Question

  %table.table.questions{:style => 'margin-bottom: 0px;'}
    %thead
      %tr
        %th Created
        %th Status
        %th.has-tooltip{:rel => "tooltip", "data-original-title" => 'Number of times this question has been answered.', "data-placement" => "left"} Answered
        %th{:style => 'width:70%;'} Question/Answers
    - @questions.each do |question|
      %tbody
        - queued_pubs = question.publications.reject{|p| !p.publication_queue_id}
        - if queued_pubs.empty?
        - elsif queued_pubs[0].published
          - style_class = 'success'
        - elsif i >= queued_pubs[0].asker.posts_per_day
          - style_class = 'disabled'
        - else 
          - style_class = 'info'
          
        %tr.question-row{:question_id => question.id, :class => style_class}
          %td
            = question.created_at.strftime "%m/%d"
          %td.status
            - if question.status == 0
              %span.label.pending.has-tooltip{:rel => "tooltip", "data-original-title" => 'We will review this question shortly.', "data-placement" => "left"} Pending
            - elsif question.status == 1
              %span.label.label-success.approved Approved
            - elsif question.status == -1
              %span.label.label-important.rejected.has-tooltip{:rel => "tooltip", "data-original-title" => 'Something was wrong with this question.', "data-placement" => "left"} Rejected
          %td
            %p= "#{@questions_answered_count[question.id] || 0} times"
          %td
            %p{:style => "font-weight: bold;"}
              = best_in_place question, :text, :type => :textarea
            - question.answers.order("correct DESC").each_with_index do |answer, i|
              %p.answer
                / %a.delete_answer X
                %i.correct_indicator{:class => (answer.correct ? "icon-ok-sign" : "icon-remove-sign")}
                = best_in_place answer, :text, :type => :input
            %p
              %span.has-tooltip{:rel => "tooltip", "data-original-title" => 'This will be sent if someone gets your question wrong.', "data-placement" => "left"} Hint:
              = best_in_place question, :hint, :type => :textarea

  .pagination-wrapper
    = paginate @questions

  = render "feeds/question_modal"

= hidden_field_tag :asker_id, @asker.id
= hidden_field_tag :user_id, @user.id