
namespace :questions do
    task :load => :environment do

        require 'csv'
        k = 0
        CSV.foreach("db/questions/govt101.csv") do |row|
          i, question_num , question = row
          answers = row[3,15]

          correct = ''
          incorrect = []
          answers.each do |a|
            if /(.*)\s\(Correct\)$/.match(a)
              correct = a.gsub /\s\(Correct\)$/, ""
            else 
              incorrect << a.gsub(/\s\(Incorrect\)$/, "")
            end
          end

          if question and correct and incorrect.count > 0

            puts "Question #{k}: #{question}"
            puts "Correct: #{correct}"
            incorrect.each_with_index {|aa, i| puts "Incorrect #{i}: #{aa}"}

            q = Question.create(:text => question, :topic_id => 1, :user_id => 1, :status => 1, :created_for_asker_id => 2)
            q.answers << Answer.create(:correct => true, :text => correct)
            incorrect.each {|aa| q.answers << Answer.create(:correct => false, :text => aa)}

          else
            puts "Error!"
            break
          end
          puts ""
          k += 1
        end
    end

    task :import_quizlet_json => :environment do
      cards = JSON.parse('[{"card_id":363,"text":"Which functional group consists of only carbon to carbon single bonds?","answer":"alkane","false_answers":["alkene","alkyne","ester"]},{"card_id":364,"text":"Which functional group consists of at least one carbon to carbon double bond?","answer":"alkene","false_answers":["ketone","ether","alkyne"]},{"card_id":365,"text":"Which functional group consists of at least one carbon to carbon triple bond?","answer":"alkyne","false_answers":["alcohol","alkane","alkene"]},{"card_id":366,"text":"Which functional group contains an -OH group?","answer":"alcohol","false_answers":["alkyne","ketone","carboxylic acid"]},{"card_id":367,"text":"Which functional group contains a terminal O=C-H group?","answer":"aldehyde","false_answers":["carboxylic acid","ketone","alkene"]},{"card_id":368,"text":"Which functional group contains an internal C=O group?","answer":"ketone","false_answers":["ether","alkyne","alkene"]},{"card_id":369,"text":"Which functional group contains a terminal O=C-OH group?","answer":"carboxylic acid","false_answers":["aldehyde","ester","ether"]},{"card_id":370,"text":"Which functional group contains an internal O-O group?","answer":"ether","false_answers":["alkene","alkyne","carboxylic acid"]},{"card_id":371,"text":"Which functional group contains an internal O=C-O- group?","answer":"ester","false_answers":["ether","alkane","carboxylic acid"]},{"card_id":372,"text":"Which functional group contains a terminal NH2 group?","answer":"amine","false_answers":["alkyne","aldehyde","carboxylic acid"]},{"card_id":373,"text":"The chemical formula for __________ is CH\u2084.","answer":"methane","false_answers":["ethane","glucose","methyl alcohol"]},{"card_id":374,"text":"The chemical formula for __________ is CH\u2083CH\u2083.","answer":"ethane","false_answers":["chloroform","carbon tetrachloride","isopropyl alcohol"]},{"card_id":375,"text":"The chemical formula for __________ is CH\u2083CH\u2082CH\u2083.","answer":"propane","false_answers":["methane","glucose","isopropyl alcohol"]},{"card_id":376,"text":"The chemical formula for __________ is CH\u2083CH\u2082CH\u2082CH\u2083.","answer":"butane","false_answers":["methane","propane","methyl alcohol"]},{"card_id":377,"text":"The chemical formula for __________ is CH\u2083OH.","answer":"methyl alcohol","false_answers":["chloroform","ethane","propane"]},{"card_id":378,"text":"The chemical formula for __________ is CH\u2083CH\u2082OH.","answer":"ethyl alcohol","false_answers":["isopropyl alcohol","chloroform","benzene"]},{"card_id":379,"text":"The chemical formula for __________ is CH\u2083CH-OHCH\u2083.","answer":"isopropyl alcohol","false_answers":["ethane","butane","benzene"]},{"card_id":380,"text":"The chemical formula for __________ is CCl\u2084.","answer":"carbon tetrachloride","false_answers":["ethane","propane","methane"]},{"card_id":381,"text":"The chemical formula for __________ is CHCl\u2083.","answer":"chloroform","false_answers":["ethyl alcohol","carbon tetrachloride","butane"]},{"card_id":382,"text":"The chemical formula for __________ is C\u2086H\u2086.","answer":"benzene","false_answers":["carbon tetrachloride","ethane","methyl alcohol"]},{"card_id":383,"text":"The chemical formula for __________ is C\u2086H\u2081\u2082O\u2086.","answer":"glucose","false_answers":["carbon tetrachloride","methyl alcohol","benzene"]},{"card_id":384,"text":"The link formed by two electrons that binds atoms together is called _________.","answer":"chemical bond","false_answers":["glucose","denaturation","RNA"]},{"card_id":385,"text":"The measurement system used to indicate how acidic or basic a substance is is called _________.","answer":"pH scale","false_answers":["chemical bond","nucleic acid","protein"]},{"card_id":386,"text":"The compound that releases H+ ions in solution and has a pH less than 7 is called _________.","answer":"acid","false_answers":["glucose","monomer","base"]},{"card_id":387,"text":"The the compound that releases OH- ions into a solution and has a pH greater than 7 is called _________.","answer":"base","false_answers":["lipid","carbohydrate","insulin"]},{"card_id":388,"text":"The building block or small unit of a polymer that can be linked into chains is called _________.","answer":"monomer","false_answers":["polymer","substrate","protein"]},{"card_id":389,"text":"The large molecule made up of smaller building blocks or monomers is called _________.","answer":"polymer","false_answers":["denaturation","glycogen","glycerol"]},{"card_id":390,"text":"The compound that contains carbon, hydrogen, and oxygen and is the main source of energy for body is called _________.","answer":"carbohydrate","false_answers":["polymer","enzyme","insulin"]},{"card_id":391,"text":"The building block of a carbohydrate (simple sugar) is called _________.","answer":"monosaccharide","false_answers":["organic compound","cholesterol","product"]},{"card_id":392,"text":"The large carbohydrate made up of monosaccharides (ex. starch and glycogen) is called _________.","answer":"polysaccharide","false_answers":["monosaccharide","denaturation","acid"]},{"card_id":393,"text":"The huge molecule that contains carbon, hydrogen, and a little oxygen (in fats, oils, and waxes) is called _________.","answer":"lipid","false_answers":["DNA","acid","carbohydrate"]},{"card_id":394,"text":"The the compound that with glycerol makes up the building blocks of lipids is called _________.","answer":"fatty acid","false_answers":["base","monomer","hemoglobin"]},{"card_id":395,"text":"The the compound that with fatty acids makes up the building blocks of lipids is called _________.","answer":"glycerol","false_answers":["organic compound","reactant","product"]},{"card_id":396,"text":"The the single stranded nucleic acid used for protein synthesis is called _________.","answer":"RNA","false_answers":["starch","nucleic acid","hemoglobin"]},{"card_id":397,"text":"The the double stranded nucleic acid that stores and transmits genetic information is called _________.","answer":"DNA","false_answers":["glucose","chemical reaction","carbohydrate"]},{"card_id":398,"text":"The the compound that makes up enzymes and cell/body structures is called _________.","answer":"protein","false_answers":["RNA","pH scale","product"]},{"card_id":399,"text":"The the building block or monomer of a nucleic acid is called _________.","answer":"nucleotide","false_answers":["glycerol","monosaccharide","insulin"]},{"card_id":400,"text":"The the building block or monomer of a protein is called _________.","answer":"amino acid","false_answers":["carbohydrate","polysaccharide","monosaccharide"]},{"card_id":401,"text":"The the compound (containing elements C, H, O, N and P) used in protein synthesis is called _________.","answer":"nucleic acid","false_answers":["lipid","base","cellulose"]},{"card_id":405,"text":"The the energy needed to start a reaction is called _________.","answer":"activation energy","false_answers":["RNA","lipid","polysaccharide"]},{"card_id":406,"text":"The the substance that speeds up the rate of a chemical reaction is called _________.","answer":"catalyst","false_answers":["DNA","chemical reaction","RNA"]},{"card_id":407,"text":"The the specialized protein that speeds up a chemical reaction by decreasing activation energy is called _________.","answer":"enzyme","false_answers":["polysaccharide","polymer","product"]},{"card_id":408,"text":"The the reactant in a chemical reaction that happens in a living thing is called _________.","answer":"substrate","false_answers":["chemical reaction","nucleotide","insulin"]},{"card_id":410,"text":"The the compound type that contains carbon bonded to hydrogen and is found in living things is called _________.","answer":"organic compound","false_answers":["cellulose","cholesterol","activation energy"]},{"card_id":411,"text":"The the polysaccharide made of a chain of glucose molecules (food storage for plants) is called _________.","answer":"starch","false_answers":["nucleic acid","protein","glycerol"]},{"card_id":413,"text":"The the simple sugar that is used to make ATP through cellular respiration is called _________.","answer":"glucose","false_answers":["insulin","acid","RNA"]},{"card_id":414,"text":"The the polysaccharide that is the main component of plant is called _________.","answer":"cellulose","false_answers":["acid","nucleotide","chemical reaction"]},{"card_id":415,"text":"The the specialized protein that carries oxygen on red blood cells is called _________.","answer":"hemoglobin","false_answers":["nucleotide","monosaccharide","polysaccharide"]},{"card_id":416,"text":"The the protein hormone that helps to decrease blood sugar is called _________.","answer":"insulin","false_answers":["DNA","pH scale","hemoglobin"]},{"card_id":417,"text":"The the specialized lipid that is used in cell membranes and making hormones is called _________.","answer":"cholesterol","false_answers":["enzyme","organic compound","denaturation"]},{"card_id":412,"text":"The the compound used by animals to store carbohydrates in the liver and skeletal muscles is called _________.","answer":"glycogen","false_answers":["organic compound","reactant","chemical reaction"]},{"card_id":409,"text":"The the process where an enzyme changes shape and malfunctions (due to changed temp, pH, etc.) is called _________.","answer":"denaturation","false_answers":["insulin","catalyst","reactant"]},{"card_id":404,"text":"The the chemical that results from a chemical reaction is called _________.","answer":"product","false_answers":["reactant","fatty acid","denaturation"]},{"card_id":403,"text":"The the chemical that goes into a chemical reaction is called _________.","answer":"reactant","false_answers":["glucose","base","polymer"]},{"card_id":402,"text":"The the process that changes one set of chemicals into another is called _________.","answer":"chemical reaction","false_answers":["hemoglobin","chemical bond","polymer"]},{"card_id":418,"text":"Compounds with the prefix \"meth,\" have how many axial atoms?","answer":"1 axial atom","false_answers":["6 axial atoms","4 axial atoms","2 axial atoms"]},{"card_id":419,"text":"Compounds with the prefix \"eth,\" have how many axial atoms?","answer":"2 axial atoms","false_answers":["3 axial atoms","6 axial atoms","5 axial atoms"]},{"card_id":420,"text":"Compounds with the prefix \"prop,\" have how many axial atoms?","answer":"3 axial atoms","false_answers":["1 axial atom","6 axial atoms","5 axial atoms"]},{"card_id":421,"text":"Compounds with the prefix \"but,\" have how many axial atoms?","answer":"4 axial atoms","false_answers":["1 axial atom","5 axial atoms","6 axial atoms"]},{"card_id":422,"text":"Compounds with the prefix \"pent,\" have how many axial atoms?","answer":"5 axial atoms","false_answers":["3 axial atoms","2 axial atoms","1 axial atom"]},{"card_id":423,"text":"Compounds with the prefix \"hex,\" have how many axial atoms?","answer":"6 axial atoms","false_answers":["3 axial atoms","4 axial atoms","5 axial atoms"]},{"card_id":446,"text":"Esters have the suffix ________","answer":"ate","false_answers":["aldehyde","ic","amine"]},{"card_id":444,"text":"Ketones have the suffix ________","answer":"one","false_answers":["ol","ic","ate"]},{"card_id":443,"text":"Aldehydes have the suffix ________","answer":"aldehyde","false_answers":["ic","ol","amine"]},{"card_id":442,"text":"Amines have the suffix ________","answer":"amine","false_answers":["ate","ol","ic"]},{"card_id":441,"text":"Organic acids or carboxylic acids have the suffix ________","answer":"ic","false_answers":["one","ol","ate"]},{"card_id":439,"text":"Alcohols have the suffix ________","answer":"ol","false_answers":["ate","amine","aldehyde"]},{"card_id":426,"text":"Compounds with single carbon bonds have the suffix \"________\"","answer":"ane","false_answers":["ene","yne"]},{"card_id":427,"text":"Compounds with at least one double carbon bond have the suffix \"________\"","answer":"ene","false_answers":["ane","yne"]},{"card_id":428,"text":"Compounds with at least one triple carbon bond have the suffix \"________\"","answer":"yne","false_answers":["ane","ene"]},{"card_id":482,"text":"Acidified potassium dichromate can be used to oxidize an alcohol to a(n) ____.","answer":"aldehyde","false_answers":["iodine","reflux","enantiomers"]},{"card_id":483,"text":"By using ____, an aldehyde can be further oxidized to a carboxylic acid.","answer":"reflux","false_answers":["propyl methanoate","nickel","ethanamide"]},{"card_id":484,"text":"____ must be used to react alkenes with water.","answer":"sulfuric acid","false_answers":["ethanamide","propyl methanoate","polychloroethene"]},{"card_id":485,"text":"Chloroethene monomers undergo addition polymerization to form ____, aka PVC.","answer":"polychloroethene","false_answers":["sulfuric acid","reflux","nickel"]},{"card_id":486,"text":"Phenylethene monomors undergo addition polymerization to form ____, aka polystyrene.","answer":"polyphenylethene","false_answers":["reflux","enantiomers","polychloroethene"]},{"card_id":487,"text":"_______ water can be used to test for unsaturated hydrocarbons.","answer":"bromine","false_answers":["sulfuric acid","reflux","iodine"]},{"card_id":500,"text":"The ester formed from methanoic acid and propanol is called _________.","answer":"propyl methanoate","false_answers":["aldehyde","enantiomers","reflux"]},{"card_id":503,"text":"This halogen is the best &quot;leaving group&quot;: ___________.","answer":"iodine","false_answers":["ketone","reflux","aldehyde"]},{"card_id":504,"text":"Optical isomers (mirror images of each other ) are known as _________.","answer":"enantiomers","false_answers":["sulfuric acid","iodine","ketone"]},{"card_id":508,"text":"(HL) CH3CONH2 is called __________.","answer":"ethanamide","false_answers":["iodine","aldehyde","bromine"]},{"card_id":511,"text":"_______ is a catalyst used in hydrogenation of alkenes.","answer":"nickel","false_answers":["polychloroethene","reflux","bromine"]},{"card_id":498,"text":"Oxidizing a secondary alcohol with H+/Cr2O7 2- will give a(n) _____.","answer":"ketone","false_answers":["polychloroethene","polyphenylethene","sulfuric acid"]},{"card_id":507,"text":"(HL) A laevorotatory optical isomer rotates polarized light ___.","answer":"counterclockwise","false_answers":["clockwise"]},{"card_id":506,"text":"(HL) A dextrorotatory optical isomer rotates polarized light ___.","answer":"clockwise","false_answers":["counterclockwise"]},{"card_id":488,"text":"___________ will form undesired products like CO, C(s) and VOCs.","answer":"incomplete combustion","false_answers":["termination","initiation","propagation"]},{"card_id":489,"text":"____________ is the first step for free radical substitution in alkanes.","answer":"initiation","false_answers":["nucleophilic substitution","termination","incomplete combustion"]},{"card_id":499,"text":"Halogenoalkenes readily undergo __________ in the presence of a nucleophile.","answer":"nucleophilic substitution","false_answers":["initiation","termination","incomplete combustion"]},{"card_id":509,"text":"____________ is a middle step for free radical substitution in alkanes.","answer":"propagation","false_answers":["initiation","nucleophilic substitution","termination"]},{"card_id":510,"text":"_____________ is the final step for free radical substitution in alkanes.","answer":"termination","false_answers":["incomplete combustion","propagation","initiation"]},{"card_id":505,"text":"(HL) An asymmetric molecule (or atom) is called ___.","answer":"chiral","false_answers":["aromatic"]},{"card_id":497,"text":"phenol, phenylamine, benzene and all aryl groups are known as ____ compounds","answer":"aromatic","false_answers":["chiral"]},{"card_id":513,"text":"C\u2082H\u2084 is the chemical formula for ___.","answer":"ethene","false_answers":["Alkanes","ethanol","Alkynes"]},{"card_id":515,"text":"C\u2082H\u2082 is the chemical formula for ___.","answer":"ethyne","false_answers":["pentene","butyne","hexanol"]},{"card_id":516,"text":"C\u2084H\u2086 is the chemical formula for ___.","answer":"butyne","false_answers":["Alkenes","Alkynes","methanol"]},{"card_id":517,"text":"C\u2085H\u2081\u2082 is the chemical formula for ___.","answer":"pentane","false_answers":["butanol","methanol","butene"]},{"card_id":519,"text":"C\u2085H\u2081\u2080 is the chemical formula for ___.","answer":"pentene","false_answers":["Propanol","butyne","Alcohols"]},{"card_id":520,"text":"C\u2084H\u2088 is the chemical formula for ___.","answer":"butene","false_answers":["butyne","Alkynes","Pentanol"]},{"card_id":521,"text":"C\u2083H\u2084 is the chemical formula for ___.","answer":"propyne","false_answers":["Alcohols","Alkanes","decane"]},{"card_id":523,"text":"C\u2081\u2080H\u2082\u2082 is the chemical formula for ___.","answer":"decane","false_answers":["butene","ethyne","hexene"]},{"card_id":524,"text":"C\u2086H\u2081\u2082 is the chemical formula for ___.","answer":"hexene","false_answers":["pentane","pentene","Propanol"]},{"card_id":525,"text":"C\u2086H\u2081\u2080 is the chemical formula for ___.","answer":"hexyne","false_answers":["Pentanol","Alcohols","methanol"]},{"card_id":526,"text":"C\u2086H\u2081\u2084 is the chemical formula for ___.","answer":"hexane","false_answers":["Alkanes","pentene","Alkynes"]},{"card_id":527,"text":"C\u2083H\u2086 is the chemical formula for ___.","answer":"propene","false_answers":["Alkanes","hexene","hexyne"]},{"card_id":528,"text":"C\u2085H\u2088 is the chemical formula for ___.","answer":"pentyne","false_answers":["Alkanes","decane","ethyne"]},{"card_id":529,"text":"C\u2085H\u2081\u2081OH is the chemical formula for ___.","answer":"Pentanol","false_answers":["decane","hexene","hexyne"]},{"card_id":530,"text":"C\u2086H\u2081\u2083OH is the chemical formula for ___.","answer":"hexanol","false_answers":["Pentanol","butanol","Alcohols"]},{"card_id":531,"text":"C\u2084H\u2089OH is the chemical formula for ___.","answer":"butanol","false_answers":["Alcohols","hexene","Propanol"]},{"card_id":532,"text":"C\u2083H\u2087OH is the chemical formula for ___.","answer":"Propanol","false_answers":["Alkenes","butyne","Alkynes"]},{"card_id":533,"text":"C\u2082H\u2085OH is the chemical formula for ___.","answer":"ethanol","false_answers":["hexane","pentyne","Alkynes"]},{"card_id":534,"text":"CH\u2083OH is the chemical formula for ___.","answer":"methanol","false_answers":["Alkenes","propyne","Alkanes"]},{"card_id":535,"text":"CnH(2n+2) is the chemical formula for ___.","answer":"Alkanes","false_answers":["hexane","ethanol","propene"]},{"card_id":536,"text":"CnH2n is the chemical formula for ___.","answer":"Alkenes","false_answers":["Alkynes","Alkanes","hexanol"]},{"card_id":537,"text":"CnH(2n-2) is the chemical formula for ___.","answer":"Alkynes","false_answers":["hexanol","Pentanol","hexene"]},{"card_id":538,"text":"CnH(2n+1)OH is the chemical formula for ___.","answer":"Alcohols","false_answers":["methanol","pentyne","hexene"]}]')
      asker = User.asker(31)
      return if asker.nil?
      topic_name = "organic chemistry"

      topic = Topic.find_or_create_by_name(topic_name)

      cards.each do |card|
        q = Question.find_or_create_by_seeder_id(card['card_id'])
        q.update_attributes(:text => card['text'],
                            :topic_id => topic.id,
                            :user_id => 1,
                            :status => 1,
                            :created_for_asker_id => asker.id)
        q.answers.destroy_all unless q.answers.blank?
        q.answers << Answer.create(:text => card['answer'], :correct => true)
        card['false_answers'].each do |fa|
          q.answers << Answer.create(:text => fa, :correct => false)
        end
      end
    end
end

