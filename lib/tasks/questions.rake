
namespace :questions do
    task :load => :environment do

        require 'csv'
        k = 0
        CSV.foreach("db/questions/govt101.csv") do |row|
          i, question_num , question = row
          answers = row[3,15]

          correct = ''
          incorrect = []
          answers.each do |a|
            if /(.*)\s\(Correct\)$/.match(a)
              correct = a.gsub /\s\(Correct\)$/, ""
            else 
              incorrect << a.gsub(/\s\(Incorrect\)$/, "")
            end
          end

          if question and correct and incorrect.count > 0

            puts "Question #{k}: #{question}"
            puts "Correct: #{correct}"
            incorrect.each_with_index {|aa, i| puts "Incorrect #{i}: #{aa}"}

            q = Question.create(:text => question, :topic_id => 1, :user_id => 1, :status => 1, :created_for_asker_id => 2)
            q.answers << Answer.create(:correct => true, :text => correct)
            incorrect.each {|aa| q.answers << Answer.create(:correct => false, :text => aa)}

          else
            puts "Error!"
            break
          end
          puts ""
          k += 1
        end
    end

    task :import_quizlet_json => :environment do
      cards = JSON.parse('[{"text":"Which functional group consists of only carbon to carbon single bonds?","answer":"alkane","false_answers":["alcohol","carboxylic acid","ether"]},{"text":"Which functional group consists of at least one carbon to carbon double bond?","answer":"alkene","false_answers":["ketone","alcohol","alkyne"]},{"text":"Which functional group consists of at least one carbon to carbon triple bond?","answer":"alkyne","false_answers":["alcohol","ester","ether"]},{"text":"Which functional group contains an -OH group?","answer":"alcohol","false_answers":["ketone","alkyne","amine"]},{"text":"Which functional group contains a terminal O=C-H group?","answer":"aldehyde","false_answers":["ether","amine","alkyne"]},{"text":"Which functional group contains an internal C=O group?","answer":"ketone","false_answers":["aldehyde","ether","alkyne"]},{"text":"Which functional group contains a terminal O=C-OH group?","answer":"carboxylic acid","false_answers":["alcohol","ether","ketone"]},{"text":"Which functional group contains an internal O-O group?","answer":"ether","false_answers":["alkane","carboxylic acid","alkyne"]},{"text":"Which functional group contains an internal O=C-O- group?","answer":"ester","false_answers":["carboxylic acid","alcohol","alkane"]},{"text":"Which functional group contains a terminal NH2 group?","answer":"amine","false_answers":["alkene","ether","alkane"]},{"text":"The chemical formula for __________ is CH\u2084.","answer":"methane","false_answers":["carbon tetrachloride","benzene","ethyl alcohol"]},{"text":"The chemical formula for __________ is CH\u2083CH\u2083.","answer":"ethane","false_answers":["propane","ethyl alcohol","methane"]},{"text":"The chemical formula for __________ is CH\u2083CH\u2082CH\u2083.","answer":"propane","false_answers":["methyl alcohol","ethyl alcohol","chloroform"]},{"text":"The chemical formula for __________ is CH\u2083CH\u2082CH\u2082CH\u2083.","answer":"butane","false_answers":["benzene","ethane","carbon tetrachloride"]},{"text":"The chemical formula for __________ is CH\u2083OH.","answer":"methyl alcohol","false_answers":["chloroform","carbon tetrachloride","isopropyl alcohol"]},{"text":"The chemical formula for __________ is CH\u2083CH\u2082OH.","answer":"ethyl alcohol","false_answers":["ethane","carbon tetrachloride","butane"]},{"text":"The chemical formula for __________ is CH\u2083CH-OHCH\u2083.","answer":"isopropyl alcohol","false_answers":["chloroform","ethane","ethyl alcohol"]},{"text":"The chemical formula for __________ is CCl\u2084.","answer":"carbon tetrachloride","false_answers":["butane","propane","methane"]},{"text":"The chemical formula for __________ is CHCl\u2083.","answer":"chloroform","false_answers":["methyl alcohol","methane","glucose"]},{"text":"The chemical formula for __________ is C\u2086H\u2086.","answer":"benzene","false_answers":["glucose","ethyl alcohol","isopropyl alcohol"]},{"text":"The chemical formula for __________ is C\u2086H\u2081\u2082O\u2086.","answer":"glucose","false_answers":["methane","isopropyl alcohol","ethyl alcohol"]},{"text":"The link formed by two electrons that binds atoms together is called _________.","answer":"chemical bond","false_answers":["glycerol","monomer","protein"]},{"text":"The measurement system used to indicate how acidic or basic a substance is is called _________.","answer":"pH scale","false_answers":["nucleotide","organic compound","polymer"]},{"text":"The compound that releases H+ ions in solution and has a pH less than 7 is called _________.","answer":"acid","false_answers":["substrate","lipid","denaturation"]},{"text":"The the compound that releases OH- ions into a solution and has a pH greater than 7 is called _________.","answer":"base","false_answers":["chemical bond","glucose","monosaccharide"]},{"text":"The building block or small unit of a polymer that can be linked into chains is called _________.","answer":"monomer","false_answers":["pH scale","activation energy","substrate"]},{"text":"The large molecule made up of smaller building blocks or monomers is called _________.","answer":"polymer","false_answers":["protein","reactant","fatty acid"]},{"text":"The compound that contains carbon, hydrogen, and oxygen and is the main source of energy for body is called _________.","answer":"carbohydrate","false_answers":["monomer","glucose","protein"]},{"text":"The building block of a carbohydrate (simple sugar) is called _________.","answer":"monosaccharide","false_answers":["glycerol","acid","cholesterol"]},{"text":"The large carbohydrate made up of monosaccharides (ex. starch and glycogen) is called _________.","answer":"polysaccharide","false_answers":["DNA","chemical bond","enzyme"]},{"text":"The huge molecule that contains carbon, hydrogen, and a little oxygen (in fats, oils, and waxes) is called _________.","answer":"lipid","false_answers":["polysaccharide","activation energy","glycogen"]},{"text":"The the compound that with glycerol makes up the building blocks of lipids is called _________.","answer":"fatty acid","false_answers":["glycerol","activation energy","protein"]},{"text":"The the compound that with fatty acids makes up the building blocks of lipids is called _________.","answer":"glycerol","false_answers":["DNA","polysaccharide","nucleic acid"]},{"text":"The the single stranded nucleic acid used for protein synthesis is called _________.","answer":"RNA","false_answers":["nucleotide","organic compound","chemical reaction"]},{"text":"The the double stranded nucleic acid that stores and transmits genetic information is called _________.","answer":"DNA","false_answers":["cholesterol","lipid","insulin"]},{"text":"The the compound that makes up enzymes and cell/body structures is called _________.","answer":"protein","false_answers":["catalyst","product","monomer"]},{"text":"The the building block or monomer of a nucleic acid is called _________.","answer":"nucleotide","false_answers":["chemical bond","substrate","amino acid"]},{"text":"The the building block or monomer of a protein is called _________.","answer":"amino acid","false_answers":["reactant","insulin","fatty acid"]},{"text":"The the compound (containing elements C, H, O, N and P) used in protein synthesis is called _________.","answer":"nucleic acid","false_answers":["monosaccharide","reactant","RNA"]},{"text":"The the energy needed to start a reaction is called _________.","answer":"activation energy","false_answers":["catalyst","nucleic acid","hemoglobin"]},{"text":"The the substance that speeds up the rate of a chemical reaction is called _________.","answer":"catalyst","false_answers":["chemical bond","monomer","chemical reaction"]},{"text":"The the specialized protein that speeds up a chemical reaction by decreasing activation energy is called _________.","answer":"enzyme","false_answers":["nucleic acid","amino acid","starch"]},{"text":"The the reactant in a chemical reaction that happens in a living thing is called _________.","answer":"substrate","false_answers":["amino acid","product","organic compound"]},{"text":"The the compound type that contains carbon bonded to hydrogen and is found in living things is called _________.","answer":"organic compound","false_answers":["base","monomer","nucleotide"]},{"text":"The the polysaccharide made of a chain of glucose molecules (food storage for plants) is called _________.","answer":"starch","false_answers":["insulin","polymer","amino acid"]},{"text":"The the simple sugar that is used to make ATP through cellular respiration is called _________.","answer":"glucose","false_answers":["product","nucleic acid","DNA"]},{"text":"The the polysaccharide that is the main component of plant is called _________.","answer":"cellulose","false_answers":["carbohydrate","enzyme","insulin"]},{"text":"The the specialized protein that carries oxygen on red blood cells is called _________.","answer":"hemoglobin","false_answers":["fatty acid","substrate","polysaccharide"]},{"text":"The the protein hormone that helps to decrease blood sugar is called _________.","answer":"insulin","false_answers":["activation energy","denaturation","chemical bond"]},{"text":"The the specialized lipid that is used in cell membranes and making hormones is called _________.","answer":"cholesterol","false_answers":["catalyst","cellulose","lipid"]},{"text":"The the compound used by animals to store carbohydrates in the liver and skeletal muscles is called _________.","answer":"glycogen","false_answers":["fatty acid","product","protein"]},{"text":"The the process where an enzyme changes shape and malfunctions (due to changed temp, pH, etc.) is called _________.","answer":"denaturation","false_answers":["fatty acid","product","enzyme"]},{"text":"The the chemical that results from a chemical reaction is called _________.","answer":"product","false_answers":["pH scale","reactant","DNA"]},{"text":"The the chemical that goes into a chemical reaction is called _________.","answer":"reactant","false_answers":["DNA","lipid","glycerol"]},{"text":"The the process that changes one set of chemicals into another is called _________.","answer":"chemical reaction","false_answers":["acid","activation energy","fatty acid"]},{"text":"Compounds with the prefix \"meth,\" have how many axial atoms?","answer":"1 axial atom","false_answers":["3 axial atoms","2 axial atoms","4 axial atoms"]},{"text":"Compounds with the prefix \"eth,\" have how many axial atoms?","answer":"2 axial atoms","false_answers":["1 axial atom","6 axial atoms","4 axial atoms"]},{"text":"Compounds with the prefix \"prop,\" have how many axial atoms?","answer":"3 axial atoms","false_answers":["2 axial atoms","1 axial atom","5 axial atoms"]},{"text":"Compounds with the prefix \"but,\" have how many axial atoms?","answer":"4 axial atoms","false_answers":["6 axial atoms","2 axial atoms","1 axial atom"]},{"text":"Compounds with the prefix \"pent,\" have how many axial atoms?","answer":"5 axial atoms","false_answers":["6 axial atoms","1 axial atom","3 axial atoms"]},{"text":"Compounds with the prefix \"hex,\" have how many axial atoms?","answer":"6 axial atoms","false_answers":["3 axial atoms","2 axial atoms","4 axial atoms"]},{"text":"Esters have the suffix ________","answer":"ate","false_answers":["ol","aldehyde","amine"]},{"text":"Ketones have the suffix ________","answer":"one","false_answers":["ic","ol","ate"]},{"text":"Aldehydes have the suffix ________","answer":"aldehyde","false_answers":["one","amine","ic"]},{"text":"Amines have the suffix ________","answer":"amine","false_answers":["ate","one","ic"]},{"text":"Organic acids or carboxylic acids have the suffix ________","answer":"ic","false_answers":["amine","aldehyde","one"]},{"text":"Alcohols have the suffix ________","answer":"ol","false_answers":["one","ic","ate"]},{"text":"Compounds with single carbon bonds have the suffix \"________\"","answer":"ane","false_answers":["yne","ene"]},{"text":"Compounds with at least one double carbon bond have the suffix \"________\"","answer":"ene","false_answers":["ane","yne"]},{"text":"Compounds with at least one triple carbon bond have the suffix \"________\"","answer":"yne","false_answers":["ane","ene"]},{"text":"Acidified potassium dichromate can be used to oxidize an alcohol to a(n) ____.","answer":"aldehyde","false_answers":["sulfuric acid","propyl methanoate","ketone"]},{"text":"By using ____, an aldehyde can be further oxidized to a carboxylic acid.","answer":"reflux","false_answers":["sulfuric acid","iodine","nickel"]},{"text":"____ must be used to react alkenes with water.","answer":"sulfuric acid","false_answers":["polyphenylethene","iodine","ketone"]},{"text":"Chloroethene monomers undergo addition polymerization to form ____, aka PVC.","answer":"polychloroethene","false_answers":["enantiomers","aldehyde","iodine"]},{"text":"Phenylethene monomors undergo addition polymerization to form ____, aka polystyrene.","answer":"polyphenylethene","false_answers":["aldehyde","propyl methanoate","iodine"]},{"text":"_______ water can be used to test for unsaturated hydrocarbons.","answer":"bromine","false_answers":["propyl methanoate","iodine","polyphenylethene"]},{"text":"The ester formed from methanoic acid and propanol is called _________.","answer":"propyl methanoate","false_answers":["enantiomers","iodine","aldehyde"]},{"text":"This halogen is the best &quot;leaving group&quot;: ___________.","answer":"iodine","false_answers":["polychloroethene","nickel","reflux"]},{"text":"Optical isomers (mirror images of each other ) are known as _________.","answer":"enantiomers","false_answers":["nickel","ketone","bromine"]},{"text":"(HL) CH3CONH2 is called __________.","answer":"ethanamide","false_answers":["ketone","iodine","sulfuric acid"]},{"text":"_______ is a catalyst used in hydrogenation of alkenes.","answer":"nickel","false_answers":["sulfuric acid","bromine","enantiomers"]},{"text":"Oxidizing a secondary alcohol with H+/Cr2O7 2- will give a(n) _____.","answer":"ketone","false_answers":["aldehyde","polyphenylethene","propyl methanoate"]},{"text":"(HL) A laevorotatory optical isomer rotates polarized light ___.","answer":"counterclockwise","false_answers":["clockwise"]},{"text":"(HL) A dextrorotatory optical isomer rotates polarized light ___.","answer":"clockwise","false_answers":["counterclockwise"]},{"text":"___________ will form undesired products like CO, C(s) and VOCs.","answer":"incomplete combustion","false_answers":["termination","initiation","nucleophilic substitution"]},{"text":"____________ is the first step for free radical substitution in alkanes.","answer":"initiation","false_answers":["nucleophilic substitution","incomplete combustion","propagation"]},{"text":"Halogenoalkenes readily undergo __________ in the presence of a nucleophile.","answer":"nucleophilic substitution","false_answers":["termination","propagation","incomplete combustion"]},{"text":"____________ is a middle step for free radical substitution in alkanes.","answer":"propagation","false_answers":["incomplete combustion","nucleophilic substitution","termination"]},{"text":"_____________ is the final step for free radical substitution in alkanes.","answer":"termination","false_answers":["nucleophilic substitution","initiation","propagation"]},{"text":"(HL) An asymmetric molecule (or atom) is called ___.","answer":"chiral","false_answers":["aromatic"]},{"text":"phenol, phenylamine, benzene and all aryl groups are known as ____ compounds","answer":"aromatic","false_answers":["chiral"]},{"text":"C\u2082H\u2084 is the chemical formula for ___.","answer":"ethene","false_answers":["Alkynes","hexanol","ethyne"]},{"text":"C\u2082H\u2082 is the chemical formula for ___.","answer":"ethyne","false_answers":["hexyne","methanol","hexene"]},{"text":"C\u2084H\u2086 is the chemical formula for ___.","answer":"butyne","false_answers":["hexane","Pentanol","Propanol"]},{"text":"C\u2085H\u2081\u2082 is the chemical formula for ___.","answer":"pentane","false_answers":["hexyne","ethanol","Propanol"]},{"text":"C\u2085H\u2081\u2080 is the chemical formula for ___.","answer":"pentene","false_answers":["Alkanes","ethene","ethanol"]},{"text":"C\u2084H\u2088 is the chemical formula for ___.","answer":"butene","false_answers":["Alkenes","pentyne","Propanol"]},{"text":"C\u2083H\u2084 is the chemical formula for ___.","answer":"propyne","false_answers":["Alkynes","hexene","butyne"]},{"text":"C\u2081\u2080H\u2082\u2082 is the chemical formula for ___.","answer":"decane","false_answers":["propyne","hexene","Alkenes"]},{"text":"C\u2086H\u2081\u2082 is the chemical formula for ___.","answer":"hexene","false_answers":["Pentanol","decane","methanol"]},{"text":"C\u2086H\u2081\u2080 is the chemical formula for ___.","answer":"hexyne","false_answers":["Alkenes","ethanol","Alkynes"]},{"text":"C\u2086H\u2081\u2084 is the chemical formula for ___.","answer":"hexane","false_answers":["Alcohols","Alkanes","ethanol"]},{"text":"C\u2083H\u2086 is the chemical formula for ___.","answer":"propene","false_answers":["butyne","ethyne","Propanol"]},{"text":"C\u2085H\u2088 is the chemical formula for ___.","answer":"pentyne","false_answers":["Propanol","methanol","Alkanes"]},{"text":"C\u2085H\u2081\u2081OH is the chemical formula for ___.","answer":"Pentanol","false_answers":["Alkynes","ethyne","ethene"]},{"text":"C\u2086H\u2081\u2083OH is the chemical formula for ___.","answer":"hexanol","false_answers":["propene","ethene","hexyne"]},{"text":"C\u2084H\u2089OH is the chemical formula for ___.","answer":"butanol","false_answers":["ethene","pentene","Alkynes"]},{"text":"C\u2083H\u2087OH is the chemical formula for ___.","answer":"Propanol","false_answers":["decane","propyne","butene"]},{"text":"C\u2082H\u2085OH is the chemical formula for ___.","answer":"ethanol","false_answers":["Alkenes","Alkynes","Pentanol"]},{"text":"CH\u2083OH is the chemical formula for ___.","answer":"methanol","false_answers":["pentane","pentyne","ethene"]},{"text":"CnH(2n+2) is the chemical formula for ___.","answer":"Alkanes","false_answers":["Alcohols","decane","ethyne"]},{"text":"CnH2n is the chemical formula for ___.","answer":"Alkenes","false_answers":["methanol","ethanol","propyne"]},{"text":"CnH(2n-2) is the chemical formula for ___.","answer":"Alkynes","false_answers":["pentene","Pentanol","Propanol"]},{"text":"CnH(2n+1)OH is the chemical formula for ___.","answer":"Alcohols","false_answers":["Alkanes","ethanol","ethyne"]}]')
      asker = User.asker(31)
      return if asker.nil?
      topic_name = "organic chemistry"

      topic = Topic.find_or_create_by_name(topic_name)

      cards.each do |card|
        q = Question.create(:text => card['text'],
                            :topic_id => topic.id,
                            :user_id => 1,
                            :status => 1,
                            :created_for_asker_id => asker.id)
        q.answers << Answer.create(:text => card['answer'], :correct => true)
        card['false_answers'].each do |fa|
          q.answers << Answer.create(:text => fa, :correct => false)
        end
      end
    end
end

